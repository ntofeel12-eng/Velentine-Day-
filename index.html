<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title>For My Love â¤ï¸</title>

<!-- Libraries -->
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root {
  --accent: #ff4d6d;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg,#ff758c,#ff7eb3);
  color: #fff;
  text-align: center;
}

h1 {
  font-size: 2.3rem;
  animation: heartbeat 2.5s infinite;
}

h2 { margin-top: 0; }

section {
  padding: 28px 18px;
}

.card {
  background: rgba(255,255,255,0.15);
  border-radius: 18px;
  padding: 22px;
  margin-bottom: 22px;
  backdrop-filter: blur(6px);
}

button {
  background: #fff;
  color: var(--accent);
  border: none;
  padding: 14px 22px;
  border-radius: 30px;
  font-size: 1rem;
  cursor: pointer;
  margin: 8px;
  font-weight: 600;
}

input {
  padding: 12px;
  border-radius: 20px;
  border: none;
  width: 80%;
  max-width: 260px;
  text-align: center;
  font-size: 1rem;
}

.hidden { display: none; }

@keyframes heartbeat {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.06); }
}

#letter {
  min-height: 140px;
  font-size: 1.05rem;
  line-height: 1.6;
  white-space: pre-line;
}

#gallery {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 8px;
}

img.photo {
  width: 90px;
  height: 90px;
  object-fit: cover;
  border-radius: 12px;
}

iframe {
  max-width: 100%;
  border-radius: 14px;
  border: none;
}
</style>
</head>

<body>

<!-- LOCK -->
<section id="lock" class="card">
  <h1>ğŸ’– For <span id="name1"></span></h1>
  <p>Enter our secret password</p>
  <input id="pwd" type="password" placeholder="â¤ï¸ Password">
  <br><br>
  <button id="unlockBtn">Unlock</button>
</section>

<!-- MAIN -->
<div id="main" class="hidden">

  <section class="card">
    <h1>Happy Valentineâ€™s Day, <span id="name2"></span> ğŸ’•</h1>
    <p id="countdown"></p>
  </section>

  <section class="card">
    <h2>ğŸ’Œ A Letter For You</h2>
    <div id="letter"></div>
  </section>

  <section class="card">
    <h2>ğŸ¶ Our Song</h2>
    <iframe
      src="https://open.spotify.com/embed/track/0VjIjW4GlUZAMYd2vXMi3b"
      width="100%" height="80"
      allow="encrypted-media">
    </iframe>
  </section>

  <section class="card">
    <h2>ğŸ“¸ Our Memories</h2>
    <input type="file" accept="image/*" multiple id="photoInput">
    <div id="gallery"></div>
  </section>

  <section class="card">
    <h2>ğŸ’ Will You Be Mine Forever?</h2>
    <button id="yesBtn">YES ğŸ’–</button>
    <button id="noBtn">NO ğŸ™ˆ</button>
  </section>

  <section class="card">
    <h2>ğŸ“± Share This Love</h2>
    <button id="shareBtn">Share on WhatsApp</button>
  </section>

  <section class="card">
    <h2>ğŸ”³ Scan the Surprise</h2>
    <canvas id="qr"></canvas>
  </section>

</div>

<script>
/* ================= CONFIG ================= */
const HER_NAME = "Her Name Here";
const PASSWORD = "love123";
const TARGET_DATE = new Date("2026-02-14T00:00:00").getTime();

/* ================= DOM ================= */
const lock = document.getElementById("lock");
const main = document.getElementById("main");
const pwd = document.getElementById("pwd");
const countdown = document.getElementById("countdown");
const letterEl = document.getElementById("letter");
const gallery = document.getElementById("gallery");

/* ================= INIT ================= */
document.getElementById("name1").textContent = HER_NAME;
document.getElementById("name2").textContent = HER_NAME;

/* ================= UNLOCK ================= */
document.getElementById("unlockBtn").onclick = () => {
  if (pwd.value === PASSWORD) {
    lock.classList.add("hidden");
    main.classList.remove("hidden");
    startLetter();
    generateQR();
  } else {
    alert("Wrong password â¤ï¸");
  }
};

/* ================= COUNTDOWN ================= */
setInterval(() => {
  const diff = TARGET_DATE - Date.now();
  const days = Math.max(0, Math.floor(diff / 86400000));
  countdown.textContent = `${days} days of love left ğŸ’•`;
}, 1000);

/* ================= LETTER ================= */
const letterText = `My dearest ${HER_NAME},
Every heartbeat of mine whispers your name.
This page is just a small proof of my love,
but my heartâ€¦ itâ€™s completely yours. â¤ï¸`;

let letterIndex = 0;
let letterStarted = false;

function startLetter() {
  if (letterStarted) return;
  letterStarted = true;

  const type = () => {
    if (letterIndex <= letterText.length) {
      letterEl.textContent = letterText.slice(0, letterIndex++);
      setTimeout(type, 45);
    }
  };
  type();
}

/* ================= PHOTOS ================= */
document.getElementById("photoInput").addEventListener("change", e => {
  [...e.target.files].forEach(file => {
    const reader = new FileReader();
    reader.onload = () => {
      const img = document.createElement("img");
      img.src = reader.result;
      img.className = "photo";
      gallery.appendChild(img);
    };
    reader.readAsDataURL(file);
  });
});

/* ================= PROPOSAL ================= */
document.getElementById("yesBtn").onclick = () => {
  confetti({ particleCount: 200, spread: 120 });
  alert("She said YES ğŸ’ğŸ’–");
};

document.getElementById("noBtn").onclick = () => {
  alert("No is not an option ğŸ˜œâ¤ï¸");
};

/* ================= SHARE ================= */
document.getElementById("shareBtn").onclick = () => {
  const msg = encodeURIComponent("A love surprise for you â¤ï¸");
  window.open(`https://wa.me/?text=${msg}`, "_blank");
};

/* ================= QR ================= */
function generateQR() {
  QRCode.toCanvas(
    document.getElementById("qr"),
    window.location.href,
    { width: 160 }
  );
}
</script>

</body>
</html>
